[2021-02-12 15:51:24,107 INFO root] Taurus CLI Tool v1.15.1
[2021-02-12 15:51:24,107 DEBUG root] Build: 13973 Fri Oct 30 09:16:46 UTC 2020
[2021-02-12 15:51:24,107 DEBUG root] Extended git info:  3fecb4b9 Release 1.15.1 (#1420)
[2021-02-12 15:51:24,107 DEBUG root] Command-line options: {'log': '/tmp/bzt_iek3970e.log', 'option': ['modules.console.disable=true'], 'quiet': None, 'verbose': None, 'no_system_configs': None, 'aliases': []}
[2021-02-12 15:51:24,107 DEBUG root] Python: CPython 3.8.0
[2021-02-12 15:51:24,107 DEBUG root] OS: uname_result(system='Linux', node='e16f6c75dcfe', release='5.4.0-1037-aws', version='#39~18.04.1-Ubuntu SMP Fri Jan 15 02:48:42 UTC 2021', machine='x86_64', processor='x86_64')
[2021-02-12 15:51:24,107 INFO root] Starting with configs: ['confluence.yml']
[2021-02-12 15:51:24,108 DEBUG root] Using personal config: /root/.bzt-rc
[2021-02-12 15:51:24,108 INFO Engine] Configuring...
[2021-02-12 15:51:24,108 DEBUG Engine] Reading system configs from: /etc/bzt.d
[2021-02-12 15:51:24,116 DEBUG Engine] Base configs list: ['/usr/local/lib/python3.8/dist-packages/bzt/resources/10-base-config.yml', '/etc/bzt.d/50-pbench-enhanced.json', '/etc/bzt.d/90-artifacts-dir.json', '/etc/bzt.d/99-zinstallID.json']
[2021-02-12 15:51:24,116 DEBUG Engine.Configuration] Configs: ['/usr/local/lib/python3.8/dist-packages/bzt/resources/10-base-config.yml', '/etc/bzt.d/50-pbench-enhanced.json', '/etc/bzt.d/90-artifacts-dir.json', '/etc/bzt.d/99-zinstallID.json']
[2021-02-12 15:51:24,116 DEBUG Engine.Configuration] Reading /usr/local/lib/python3.8/dist-packages/bzt/resources/10-base-config.yml as YAML
[2021-02-12 15:51:24,131 DEBUG Engine.Configuration] Reading /etc/bzt.d/50-pbench-enhanced.json as YAML
[2021-02-12 15:51:24,132 DEBUG Engine.Configuration] Reading /etc/bzt.d/90-artifacts-dir.json as YAML
[2021-02-12 15:51:24,132 DEBUG Engine.Configuration] Reading /etc/bzt.d/99-zinstallID.json as YAML
[2021-02-12 15:51:24,133 DEBUG Engine] User configs list: ['/root/.bzt-rc', 'confluence.yml']
[2021-02-12 15:51:24,133 DEBUG Engine.Configuration] Configs: ['/root/.bzt-rc', 'confluence.yml']
[2021-02-12 15:51:24,133 DEBUG Engine.Configuration] Reading /root/.bzt-rc as YAML
[2021-02-12 15:51:24,135 DEBUG Engine.Configuration] Reading confluence.yml as YAML
[2021-02-12 15:51:24,145 DEBUG Engine.Configuration] Configs: ['/root/.bzt-rc', 'confluence.yml']
[2021-02-12 15:51:24,145 DEBUG Engine.Configuration] Reading /root/.bzt-rc as YAML
[2021-02-12 15:51:24,148 DEBUG Engine.Configuration] Reading confluence.yml as YAML
[2021-02-12 15:51:24,163 DEBUG Engine] Requesting updates info: https://gettaurus.org/updates/?version=1.15.1&installID=Docker
[2021-02-12 15:51:24,163 DEBUG ConfigOverrider] Applying modules.console.disable=true
[2021-02-12 15:51:24,163 DEBUG HTTPClient] Making HTTP request GET https://gettaurus.org/updates/?version=1.15.1&installID=Docker
[2021-02-12 15:51:24,163 DEBUG ConfigOverrider] Applying: [disable]=true
[2021-02-12 15:51:24,164 DEBUG ConfigOverrider] Parsed override value: 'true' -> True (<class 'bool'>)
[2021-02-12 15:51:24,164 INFO Engine] Artifacts dir: /dc-app-performance-toolkit/app/results/confluence/2021-02-12_15-51-24
[2021-02-12 15:51:24,165 DEBUG Engine] New artifact filename: /dc-app-performance-toolkit/app/results/confluence/2021-02-12_15-51-24/effective
[2021-02-12 15:51:24,167 DEBUG urllib3.connectionpool] Starting new HTTPS connection (1): gettaurus.org:443
[2021-02-12 15:51:24,167 DEBUG Engine.Configuration] Dumping YAML config into /dc-app-performance-toolkit/app/results/confluence/2021-02-12_15-51-24/effective.yml
[2021-02-12 15:51:24,181 DEBUG Engine.Configuration] Dumping JSON config into /dc-app-performance-toolkit/app/results/confluence/2021-02-12_15-51-24/effective.json
[2021-02-12 15:51:24,182 DEBUG Engine] New artifact filename: /dc-app-performance-toolkit/app/results/confluence/2021-02-12_15-51-24/merged.yml
[2021-02-12 15:51:24,182 DEBUG Engine.Configuration] Dumping YAML config into /dc-app-performance-toolkit/app/results/confluence/2021-02-12_15-51-24/merged.yml
[2021-02-12 15:51:24,188 DEBUG Engine] New artifact filename: /dc-app-performance-toolkit/app/results/confluence/2021-02-12_15-51-24/merged.json
[2021-02-12 15:51:24,188 DEBUG Engine.Configuration] Dumping JSON config into /dc-app-performance-toolkit/app/results/confluence/2021-02-12_15-51-24/merged.json
[2021-02-12 15:51:24,188 DEBUG Engine] Add existing artifact (move=False): confluence.yml
[2021-02-12 15:51:24,188 DEBUG Engine] Copying confluence.yml to /dc-app-performance-toolkit/app/results/confluence/2021-02-12_15-51-24/confluence.yml
[2021-02-12 15:51:24,188 DEBUG Engine] Set PYTHONPATH to '/root/.bzt/python-packages/3.8.0' + '/dc-app-performance-toolkit/app/results/confluence/2021-02-12_15-51-24/python-packages/3.8.0' + 
[2021-02-12 15:51:24,189 DEBUG Engine] Content of user packages dir: %s
[2021-02-12 15:51:24,189 DEBUG Engine] OS env: OBJC_DISABLE_INITIALIZE_FORK_SAFETY=YES
[2021-02-12 15:51:24,189 DEBUG Engine] OS env: application_hostname=confl-loadb-n2u031dw0abo-199959073.us-east-1.elb.amazonaws.com
[2021-02-12 15:51:24,189 DEBUG Engine] OS env: application_protocol=http
[2021-02-12 15:51:24,189 DEBUG Engine] OS env: application_port=80
[2021-02-12 15:51:24,189 DEBUG Engine] OS env: secure=True
[2021-02-12 15:51:24,189 DEBUG Engine] OS env: admin_login=admin
[2021-02-12 15:51:24,189 DEBUG Engine] OS env: admin_password=admin
[2021-02-12 15:51:24,189 DEBUG Engine] OS env: load_executor=locust
[2021-02-12 15:51:24,189 DEBUG Engine] OS env: concurrency=200
[2021-02-12 15:51:24,189 DEBUG Engine] OS env: test_duration=45m
[2021-02-12 15:51:24,189 DEBUG Engine] OS env: ramp-up=5m
[2021-02-12 15:51:24,189 DEBUG Engine] OS env: total_actions_per_hour=20000
[2021-02-12 15:51:24,189 DEBUG Engine] OS env: WEBDRIVER_VISIBLE=False
[2021-02-12 15:51:24,189 DEBUG Engine] OS env: JMETER_VERSION=5.2.1
[2021-02-12 15:51:24,189 DEBUG Engine] OS env: LANGUAGE=en_US.utf8
[2021-02-12 15:51:24,189 DEBUG Engine] OS env: allow_analytics=True
[2021-02-12 15:51:24,189 DEBUG Engine] OS env: view_page=54
[2021-02-12 15:51:24,189 DEBUG Engine] OS env: view_dashboard=6
[2021-02-12 15:51:24,190 DEBUG Engine] OS env: view_blog=8
[2021-02-12 15:51:24,190 DEBUG Engine] OS env: search_cql=7
[2021-02-12 15:51:24,190 DEBUG Engine] OS env: create_blog=3
[2021-02-12 15:51:24,190 DEBUG Engine] OS env: create_and_edit_page=6
[2021-02-12 15:51:24,190 DEBUG Engine] OS env: comment_page=5
[2021-02-12 15:51:24,190 DEBUG Engine] OS env: view_attachment=3
[2021-02-12 15:51:24,190 DEBUG Engine] OS env: upload_attachment=5
[2021-02-12 15:51:24,190 DEBUG Engine] OS env: like_page=3
[2021-02-12 15:51:24,190 DEBUG Engine] OS env: standalone_extension=6
[2021-02-12 15:51:24,190 DEBUG Engine] OS env: custom_dataset_query=title ~ 'Spacetree*'
[2021-02-12 15:51:24,190 DEBUG Engine] OS env: TAURUS_ARTIFACTS_DIR=/dc-app-performance-toolkit/app/results/confluence/2021-02-12_15-51-24
[2021-02-12 15:51:24,190 DEBUG root] Closing log handler: /tmp/bzt_iek3970e.log
[2021-02-12 15:51:24,190 DEBUG root] Switched writing logs to /dc-app-performance-toolkit/app/results/confluence/2021-02-12_15-51-24/bzt.log
[2021-02-12 15:51:24,190 DEBUG root] Linting config
[2021-02-12 15:51:24,192 INFO Engine] Preparing...
[2021-02-12 15:51:24,193 DEBUG Engine] Module config: consolidator {'class': 'bzt.modules.aggregator.ConsolidatingAggregator', 'rtimes-len': 0, 'percentiles': []}
[2021-02-12 15:51:24,193 DEBUG root] Importing module: bzt.modules.aggregator
[2021-02-12 15:51:24,291 DEBUG root] Loading class: 'ConsolidatingAggregator' from <module 'bzt.modules.aggregator' from '/usr/local/lib/python3.8/dist-packages/bzt/modules/aggregator.py'>
[2021-02-12 15:51:24,292 DEBUG Engine.consolidator] Buffer scaling setup: percentile None from [] selected
[2021-02-12 15:51:24,292 DEBUG Engine] Module config: monitoring {'class': 'bzt.modules.monitoring.Monitoring'}
[2021-02-12 15:51:24,292 DEBUG root] Importing module: bzt.modules.monitoring
[2021-02-12 15:51:24,293 DEBUG root] Loading class: 'Monitoring' from <module 'bzt.modules.monitoring' from '/usr/local/lib/python3.8/dist-packages/bzt/modules/monitoring.py'>
[2021-02-12 15:51:24,294 DEBUG Engine] Module config: shellexec {'class': 'bzt.modules.shellexec.ShellExecutor'}
[2021-02-12 15:51:24,294 DEBUG root] Importing module: bzt.modules.shellexec
[2021-02-12 15:51:24,298 DEBUG easyprocess] version=0.3
[2021-02-12 15:51:24,299 DEBUG pyvirtualdisplay] version=2.0
[2021-02-12 15:51:24,307 DEBUG root] Loading class: 'ShellExecutor' from <module 'bzt.modules.shellexec' from '/usr/local/lib/python3.8/dist-packages/bzt/modules/shellexec.py'>
[2021-02-12 15:51:24,307 DEBUG Engine.shellexec] Added prepare task: {'command': 'python util/pre_run/environment_checker.py'}
[2021-02-12 15:51:24,307 DEBUG Engine.shellexec] Added prepare task: {'command': 'python util/data_preparation/confluence_prepare_data.py'}
[2021-02-12 15:51:24,307 DEBUG Engine.shellexec] Added shutdown task: {'command': 'python util/post_run/jmeter_post_check.py'}
[2021-02-12 15:51:24,307 DEBUG Engine.shellexec] Added shutdown task: {'command': 'python util/jtl_convertor/jtls-to-csv.py kpi.jtl selenium.jtl'}
[2021-02-12 15:51:24,307 DEBUG Engine.shellexec] Added post-process task: {'command': 'python util/analytics/analytics.py confluence'}
[2021-02-12 15:51:24,307 DEBUG Engine.shellexec] Added post-process task: {'command': 'python util/post_run/cleanup_results_dir.py'}
[2021-02-12 15:51:24,307 INFO Engine.shellexec.Task] Starting shell command: python util/pre_run/environment_checker.py
[2021-02-12 15:51:24,308 DEBUG root] Executing shell: python util/pre_run/environment_checker.py at /dc-app-performance-toolkit/app
[2021-02-12 15:51:24,391 DEBUG Engine.shellexec.Task] Output for python util/pre_run/environment_checker.py:
Python version: 3.8.0
Data Center App Performance Toolkit version: 4.0.0

[2021-02-12 15:51:24,392 DEBUG Engine.shellexec.Task] Task was finished with exit code 0: python util/pre_run/environment_checker.py
[2021-02-12 15:51:24,392 INFO Engine.shellexec.Task] Starting shell command: python util/data_preparation/confluence_prepare_data.py
[2021-02-12 15:51:24,392 DEBUG root] Executing shell: python util/data_preparation/confluence_prepare_data.py at /dc-app-performance-toolkit/app
[2021-02-12 15:51:24,755 DEBUG urllib3.connectionpool] https://gettaurus.org:443 "GET /updates/?version=1.15.1&installID=Docker HTTP/1.1" 200 39
[2021-02-12 15:51:24,756 DEBUG Engine] Taurus updates info: {'latest': '1.15.2', 'needsUpgrade': True}
[2021-02-12 15:51:24,756 WARNING Engine] There is newer version of Taurus 1.15.2 available, consider upgrading. What's new: http://gettaurus.org/docs/Changelog/
[2021-02-12 15:53:14,838 WARNING root] Keyboard interrupt
[2021-02-12 15:53:14,839 DEBUG root] KeyboardInterrupt: 
  File "/usr/local/lib/python3.8/dist-packages/bzt/cli.py", line 261, in perform
    self.engine.prepare()
  File "/usr/local/lib/python3.8/dist-packages/bzt/engine/engine.py", line 215, in prepare
    self.__prepare_services()
  File "/usr/local/lib/python3.8/dist-packages/bzt/engine/engine.py", line 668, in __prepare_services
    module.prepare()
  File "/usr/local/lib/python3.8/dist-packages/bzt/modules/shellexec.py", line 130, in prepare
    task.start()
  File "/usr/local/lib/python3.8/dist-packages/bzt/modules/shellexec.py", line 217, in start
    self._get_results()
  File "/usr/local/lib/python3.8/dist-packages/bzt/modules/shellexec.py", line 231, in _get_results
    stdout, stderr = communicate(self.process)
  File "/usr/local/lib/python3.8/dist-packages/bzt/utils.py", line 80, in communicate
    out, err = proc.communicate()
  File "/usr/lib/python3.8/subprocess.py", line 1024, in communicate
    stdout, stderr = self._communicate(input, endtime, timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1866, in _communicate
    ready = selector.select(timeout)
  File "/usr/lib/python3.8/selectors.py", line 415, in select
    fd_event_list = self._selector.poll(timeout)
[2021-02-12 15:53:14,839 INFO Engine] Post-processing...
[2021-02-12 15:53:14,839 DEBUG Engine.consolidator] Consolidator buffer[0]: dict_keys([])
[2021-02-12 15:53:14,839 DEBUG Engine.shellexec.Task] Task is not finished yet: python util/data_preparation/confluence_prepare_data.py
[2021-02-12 15:53:14,840 INFO Engine.shellexec.Task] Background task was not completed, shutting it down: python util/data_preparation/confluence_prepare_data.py
[2021-02-12 15:53:15,841 INFO Engine.shellexec.Task] Terminating process PID 20 with signal Signals.SIGTERM (59 tries left)
[2021-02-12 15:53:16,842 INFO Engine.shellexec.Task] Terminating process PID 20 with signal Signals.SIGTERM (58 tries left)
[2021-02-12 15:53:16,842 INFO Engine.shellexec.Task] Starting shell command: python util/analytics/analytics.py confluence
[2021-02-12 15:53:16,842 DEBUG root] Executing shell: python util/analytics/analytics.py confluence at /dc-app-performance-toolkit/app
[2021-02-12 15:53:17,027 WARNING Engine.shellexec.Task] Errors for python util/analytics/analytics.py confluence:
Traceback (most recent call last):
  File "util/analytics/analytics.py", line 162, in <module>
    main()
  File "util/analytics/analytics.py", line 155, in main
    collector = AnalyticsCollector(application)
  File "util/analytics/analytics.py", line 35, in __init__
    self.results_log = ResultsFileReader()
  File "/dc-app-performance-toolkit/app/util/analytics/log_reader.py", line 125, in __init__
    self.results_log = self.get_results_log()
  File "/dc-app-performance-toolkit/app/util/analytics/log_reader.py", line 129, in get_results_log
    self.validate_file_exists(results_log_path)
  File "/dc-app-performance-toolkit/app/util/analytics/log_reader.py", line 16, in validate_file_exists
    raise Exception(f'{path} does not exist')
Exception: /dc-app-performance-toolkit/app/results/confluence/2021-02-12_15-51-24/results.csv does not exist

[2021-02-12 15:53:17,028 DEBUG Engine.shellexec.Task] Task was finished with exit code 1: python util/analytics/analytics.py confluence
[2021-02-12 15:53:17,028 DEBUG Engine] post_process: Command 'python util/analytics/analytics.py confluence' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/bzt/engine/engine.py", line 340, in post_process
    module.post_process()
  File "/usr/local/lib/python3.8/dist-packages/bzt/modules/shellexec.py", line 159, in post_process
    task.start()
  File "/usr/local/lib/python3.8/dist-packages/bzt/modules/shellexec.py", line 217, in start
    self._get_results()
  File "/usr/local/lib/python3.8/dist-packages/bzt/modules/shellexec.py", line 244, in _get_results
    raise CalledProcessError(self.process.returncode, self)
subprocess.CalledProcessError: Command 'python util/analytics/analytics.py confluence' returned non-zero exit status 1.

[2021-02-12 15:53:17,029 DEBUG Engine.Configuration] Dumping YAML config into /dc-app-performance-toolkit/app/results/confluence/2021-02-12_15-51-24/effective.yml
[2021-02-12 15:53:17,045 DEBUG Engine.Configuration] Dumping JSON config into /dc-app-performance-toolkit/app/results/confluence/2021-02-12_15-51-24/effective.json
[2021-02-12 15:53:17,045 DEBUG root] CalledProcessError: Command 'python util/analytics/analytics.py confluence' returned non-zero exit status 1.
  File "/usr/local/lib/python3.8/dist-packages/bzt/cli.py", line 269, in perform
    self.engine.post_process()
  File "/usr/local/lib/python3.8/dist-packages/bzt/engine/engine.py", line 354, in post_process
    reraise(exc_info, exc_value)
  File "/usr/local/lib/python3.8/dist-packages/bzt/utils.py", line 103, in reraise
    raise exc
  File "/usr/local/lib/python3.8/dist-packages/bzt/engine/engine.py", line 340, in post_process
    module.post_process()
  File "/usr/local/lib/python3.8/dist-packages/bzt/modules/shellexec.py", line 159, in post_process
    task.start()
  File "/usr/local/lib/python3.8/dist-packages/bzt/modules/shellexec.py", line 217, in start
    self._get_results()
  File "/usr/local/lib/python3.8/dist-packages/bzt/modules/shellexec.py", line 244, in _get_results
    raise CalledProcessError(self.process.returncode, self)
[2021-02-12 15:53:17,045 INFO root] Artifacts dir: /dc-app-performance-toolkit/app/results/confluence/2021-02-12_15-51-24
[2021-02-12 15:53:17,045 WARNING root] Done performing with code: 1
[2021-02-12 15:53:17,046 DEBUG root] Closing log handler: /dc-app-performance-toolkit/app/results/confluence/2021-02-12_15-51-24/bzt.log
